# Core Baseline Preset for Spark 4.0
#
# This preset enables all core infrastructure components for a minimal Lakehouse stack:
# - MinIO: S3-compatible object storage
# - PostgreSQL: Relational database for metastore
# - Hive Metastore: Metadata catalog for Spark SQL
# - History Server: UI for completed Spark applications
#
# Features:
# - GPU: disabled
# - Iceberg: disabled
#
# Usage:
#   helm install my-spark charts/spark-4.0 -f charts/spark-4.0/presets/core-baseline.yaml

# Disable top-level components (use core.* instead)
hiveMetastore:
  enabled: false

historyServer:
  enabled: false

# Core Infrastructure Components
core:
  minio:
    enabled: true
    fullnameOverride: "minio-spark-40"

  postgresql:
    enabled: true
    fullnameOverride: "postgresql-metastore-40"

  hiveMetastore:
    enabled: true
    fullnameOverride: "hive-metastore-41"

  historyServer:
    enabled: true
    fullnameOverride: "history-server-41"
    # History Server reads logs from S3
    logDirectory: "s3a://spark-logs/events"

# Feature flags
features:
  iceberg:
    enabled: false
  gpu:
    enabled: false

# Optional components (disabled for baseline)
connect:
  enabled: false

jupyter:
  enabled: false

airflow:
  enabled: false
