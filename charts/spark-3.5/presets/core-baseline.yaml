# Core Baseline Preset for Spark 3.5
#
# This preset enables all core infrastructure components for a minimal Lakehouse stack:
# - MinIO: S3-compatible object storage
# - PostgreSQL: Relational database for metastore
# - Hive Metastore: Metadata catalog for Spark SQL
# - History Server: UI for completed Spark applications
#
# Features:
# - GPU: disabled
# - Iceberg: disabled
#
# Usage:
#   helm install my-spark charts/spark-3.5 -f charts/spark-3.5/presets/core-baseline.yaml

# Global S3 configuration (used by History Server and Hive Metastore)
global:
  s3:
    enabled: true
    endpoint: "http://minio-spark-35:9000"
    pathStyleAccess: true
    sslEnabled: false
    existingSecret: "s3-credentials"

# Core Infrastructure Components (using top-level values for Spark 3.5)
minio:
  enabled: true
  fullnameOverride: "minio-spark-35"
  buckets:
    - spark-logs
    - warehouse

postgresql:
  enabled: true
  fullnameOverride: "postgresql-metastore-35"
  auth:
    user: hive
    database: metastore_spark35
  existingSecret: "spark-35-metastore-db"

hiveMetastore:
  enabled: true
  fullnameOverride: "hive-metastore-35"

historyServer:
  enabled: true
  fullnameOverride: "history-server-35"
  logDirectory: "s3a://spark-logs/3.5/events"

# Feature flags
features:
  iceberg:
    enabled: false
  gpu:
    enabled: false

# Optional components (disabled for baseline)
connect:
  enabled: false

jupyter:
  enabled: false

airflow:
  enabled: false
