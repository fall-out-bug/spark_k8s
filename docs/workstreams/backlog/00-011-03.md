---
ws_id: 00-011-03
feature: F11
status: backlog
size: LARGE
project_id: 00
github_issue: null
assignee: null
depends_on:
  - 00-011-01  # Spark 3.5 images
  - 00-011-02  # Spark 4.1 images
  - 00-009-02  # Python 3.10 base
---

## WS-00-011-03: Jupyter images (12) + tests

### üéØ Goal

**What must WORK after completing this WS:**
- 12 Jupyter runtime images (3.5/4.1 √ó variants)
- JupyterLab + Spark integration
- GPU/Iceberg support in Jupyter

**Acceptance Criteria:**
- [ ] AC1: Jupyter Dockerfile created
- [ ] AC2: All 12 images build successfully
- [ ] AC3: JupyterLab accessible on port 8888
- [ ] AC4: Spark Connect works from Jupyter
- [ ] AC5: GPU images have RAPIDS kernel
- [ ] AC6: Iceberg images have Iceberg catalog

**‚ö†Ô∏è WS is NOT complete until Goal is achieved (all AC ‚úÖ).**

---

### Image Matrix

| Variant | 3.5.7 | 3.5.8 | 4.1.0 | 4.1.1 |
|--------|-------|-------|-------|-------|
| Baseline | jupyter-3.5.7 | jupyter-3.5.8 | jupyter-4.1.0 | jupyter-4.1.1 |
| GPU | jupyter-3.5.7-gpu | jupyter-3.5.8-gpu | jupyter-4.1.0-gpu | jupyter-4.1.1-gpu |
| Iceberg | jupyter-3.5.7-iceberg | jupyter-3.5.8-iceberg | jupyter-4.1.0-iceberg | jupyter-4.1.1-iceberg |
| GPU+Iceberg | - | - | jupyter-4.1.0-gpu-iceberg | jupyter-4.1.1-gpu-iceberg |

### Dependencies

- WS-011-01, WS-011-02 (Spark images)
- WS-009-02 (Python base)

### Code

```dockerfile
# docker/runtime/jupyter/Dockerfile
ARG SPARK_IMAGE=spark-k8s-spark-3.5.7:latest
FROM ${SPARK_IMAGE} as spark

FROM jupyter/base:notebook-python-3.10 as jupyter

USER root

# Copy Spark from Spark image
COPY --from=spark /opt/spark /opt/spark

# Install Jupyter extensions
RUN pip install --no-cache-dir \
    jupyterlab \
    pyspark \
    findspark \
    ipywidgets

# Configure Jupyter
ENV JUPYTER_ENABLE_LAB=yes
ENV SPARK_HOME=/opt/spark

# Expose ports
EXPOSE 8888 4040

# Start JupyterLab
CMD ["jupyter", "lab", "--ip=0.0.0.0", "--port=8888", "--no-browser", "--allow-root"]
```

### Scope Estimate

- Files: 5
- Lines: ~1500 (LARGE)
- Tokens: ~11000

### Constraints

- DO require Spark images first
- DO use jupyter/base as foundation
- DO NOT exceed 3GB for baseline images

---

## Execution Report

**Executed by:** ______
**Date:** ______
**Duration:** ______ minutes

### Goal Status
- [ ] AC1-AC6 ‚Äî ‚úÖ

**Goal Achieved:** ______
