---
ws_id: 030-02
feature: F30
status: backlog
size: MEDIUM
project_id: 00
github_issue: null
assignee: null
depends_on: []
---

## WS-030-02: Production Airflow DAG Templates

### Goal

**What must WORK after completing this WS:**
- Production-grade Airflow DAG templates with retry, SLA, alerting, idempotency
- Clear distinction between example DAGs and production templates
- Documented DAG patterns for common Spark + Airflow scenarios

**Acceptance Criteria:**
- [ ] AC1: `examples/airflow/dags/production/spark_etl_daily.py` — production ETL DAG with retry (3x), SLA (2h), failure alerts
- [ ] AC2: `examples/airflow/dags/production/spark_backfill.py` — idempotent backfill DAG with date partitioning
- [ ] AC3: `examples/airflow/dags/production/spark_data_quality.py` — DQ check DAG (row count, null check, freshness)
- [ ] AC4: Each DAG has: `on_failure_callback`, `sla`, `retries`, `retry_delay`, `execution_timeout`
- [ ] AC5: DAGs use `SparkConnectOperator` or `SparkSubmitOperator` (not BashOperator)
- [ ] AC6: `examples/airflow/README.md` documents patterns and customization
- [ ] AC7: DAGs are idempotent (re-running same date produces same result)

### Files Changed

- `examples/airflow/dags/production/spark_etl_daily.py` (NEW)
- `examples/airflow/dags/production/spark_backfill.py` (NEW)
- `examples/airflow/dags/production/spark_data_quality.py` (NEW)
- `examples/airflow/README.md` (NEW)
