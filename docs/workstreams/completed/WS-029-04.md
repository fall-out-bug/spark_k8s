---
ws_id: 029-04
feature: F29
status: backlog
size: SMALL
project_id: 00
github_issue: null
assignee: null
depends_on: []
---

## WS-029-04: Harden Default Credentials in Values Files

### Goal

**What must WORK after completing this WS:**
- No hardcoded production-like credentials in default values.yaml
- Clear documentation on credential setup
- ExternalSecrets/Vault path documented for each secret

**Acceptance Criteria:**
- [ ] AC1: `charts/spark-4.1/values.yaml`: replace `minioadmin`/`minioadmin` with `""` + comment "REQUIRED: set via --set or ExternalSecrets"
- [ ] AC2: `charts/spark-3.5/values.yaml`: same treatment
- [ ] AC3: `charts/spark-4.1/values.yaml`: replace `hive123` with `""` + comment
- [ ] AC4: All preset values files: replace hardcoded creds with `""` or reference to `.env.example`
- [ ] AC5: `.env.example` updated with all required secrets documented
- [ ] AC6: `docs/recipes/security/credential-management.md` created (ExternalSecrets, SealedSecrets, Vault examples)
- [ ] AC7: `helm template` with empty credentials still renders (optional cred fields)
- [ ] AC8: `helm template` with `--set global.s3.accessKey=test` works as before

### Files Changed

- `charts/spark-4.1/values.yaml` (UPDATE: remove hardcoded creds)
- `charts/spark-3.5/values.yaml` (UPDATE: remove hardcoded creds)
- `charts/spark-4.1/values-scenario-*.yaml` (UPDATE: 8+ files)
- `charts/spark-3.5/values-scenario-*.yaml` (UPDATE: 8+ files)
- `.env.example` (UPDATE)
- `docs/recipes/security/credential-management.md` (NEW)
